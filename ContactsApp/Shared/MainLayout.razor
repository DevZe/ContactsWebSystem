@using Blazored.SessionStorage
@inherits LayoutComponentBase

@inject CustomAuthenticationStateProvider authenticationStateProvider
<PageTitle>Contacts App</PageTitle>

<div class="page">
    
        <div class="sidebar">
            <NavMenu />
        </div>


    <main>
        
      
        <article class="content px-4">
            @Body
        </article>
    </main>
</div>
@code{
    [CascadingParameter]
    Task <AuthenticationState>? AuthState{ get; set; }
    bool IsLoggeIn;
    bool Connecting;
    List<string> Errors;
    bool IsLoggedIn;

    public async Task OnInitialiseAsync()
    {

        var state = authenticationStateProvider.GetAuthenticationStateAsync();
        if ((await state).User.Identity.IsAuthenticated)
        {
            IsLoggedIn = true;
        }
    }

    
}

